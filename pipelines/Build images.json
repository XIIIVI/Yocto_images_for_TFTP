{"source":2,"revision":39,"description":null,"createdBy":{"displayName":"Fabrice TRAN XUAN","url":"https://spsprodweu2.vssps.visualstudio.com/Afae68fa3-32e0-43bd-90ae-13cdc3148042/_apis/Identities/598bb551-8821-6794-8bb8-fc4fc56c3b28","_links":{"avatar":{"href":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"}},"id":"598bb551-8821-6794-8bb8-fc4fc56c3b28","uniqueName":"fabrice.tranxuan@gmail.com","imageUrl":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4","descriptor":"msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"},"createdOn":"2021-07-12T13:31:07.677Z","modifiedBy":{"displayName":"Fabrice TRAN XUAN","url":"https://spsprodweu2.vssps.visualstudio.com/Afae68fa3-32e0-43bd-90ae-13cdc3148042/_apis/Identities/598bb551-8821-6794-8bb8-fc4fc56c3b28","_links":{"avatar":{"href":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"}},"id":"598bb551-8821-6794-8bb8-fc4fc56c3b28","uniqueName":"fabrice.tranxuan@gmail.com","imageUrl":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4","descriptor":"msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"},"modifiedOn":"2021-07-16T06:24:41.993Z","isDeleted":false,"lastRelease":{"id":25,"name":"Release-25","artifacts":[],"_links":{},"description":"Triggered release for feed: yocto package: image-builder version: 0.1.0-beta.148.","releaseDefinition":{"id":1,"projectReference":null,"_links":{}},"createdOn":"2021-07-16T04:46:13.007Z","createdBy":{"displayName":"Microsoft.VisualStudio.Services.ReleaseManagement","id":"0000000d-0000-8888-8000-000000000000","uniqueName":"0000000d-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","descriptor":"s2s.MDAwMDAwMGQtMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"variables":{"dir.remote.build":{"value":"/datadrive/devops"},"ftp.password":{"value":null,"isSecret":true},"ftp.port":{"value":null,"isSecret":true},"ftp.server":{"value":null,"isSecret":true},"ftp.user":{"value":null,"isSecret":true}},"variableGroups":[],"environments":[{"id":1,"name":"Setup YOCTO's VM","rank":1,"owner":{"displayName":"Fabrice TRAN XUAN","url":"https://spsprodweu2.vssps.visualstudio.com/Afae68fa3-32e0-43bd-90ae-13cdc3148042/_apis/Identities/598bb551-8821-6794-8bb8-fc4fc56c3b28","_links":{"avatar":{"href":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"}},"id":"598bb551-8821-6794-8bb8-fc4fc56c3b28","uniqueName":"fabrice.tranxuan@gmail.com","imageUrl":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4","descriptor":"msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"},"variables":{},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":1}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":4},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":5}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Init agent","refName":null,"workflowTasks":[{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Install the required packages","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"commands","commands":"sudo DEBIAN_FRONTEND=noninteractive apt-get install -y sshpass","scriptPath":"","inline":"","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"true","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Clean up /datadrive/devops","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"inline","commands":"","scriptPath":"","inline":"rm -Rf $(dir.remote.build)\nmkdir -p $(dir.remote.build)\ncd $(dir.remote.build)\ngit init\n","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"true","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"67cec91b-0351-4c2f-8465-d74b3d2a2d96","version":"0.*","name":"Copy the builder to YOCTO's VM","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","sourceFolder":"$(System.DefaultWorkingDirectory)/_image-builder","contents":"**","targetFolder":"$(dir.remote.build)","isWindowsOnTarget":"false","cleanTargetFolder":"false","readyTimeout":"20000","overwrite":"true","failOnEmptySource":"false","flattenFolders":"false"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Commit the uploaded files","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"inline","commands":"","scriptPath":"","inline":"cd $(dir.remote.build)\n\ngit add .\ngit commit -m \"Init\"","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"true","interactiveSession":"false","readyTimeout":"20000"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":25,"url":"https://vsrm.dev.azure.com/edaj/5631a64e-0627-4808-942b-02d7757af6b1/_apis/Release/releases/25","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/edaj/_apis/public/Release/badge/5631a64e-0627-4808-942b-02d7757af6b1/1/1"},{"id":2,"name":"TFTP image","rank":2,"owner":{"displayName":"Fabrice TRAN XUAN","url":"https://spsprodweu2.vssps.visualstudio.com/Afae68fa3-32e0-43bd-90ae-13cdc3148042/_apis/Identities/598bb551-8821-6794-8bb8-fc4fc56c3b28","_links":{"avatar":{"href":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"}},"id":"598bb551-8821-6794-8bb8-fc4fc56c3b28","uniqueName":"fabrice.tranxuan@gmail.com","imageUrl":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4","descriptor":"msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"},"variables":{"image":{"value":"tftp"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":2}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":3},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":6}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_image-builder","artifactType":"PackageManagement","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Raspberrypi4-64","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"commands","commands":"cd $(dir.remote.build) && git reset --hard && bash go.sh --machine raspberrypi4-64 --image $(image) --devops\n","scriptPath":"","inline":"","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"false","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Raspberrypi3-64","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"commands","commands":"cd $(dir.remote.build) && git reset --hard && bash ./go.sh --machine raspberrypi3-64 --image $(image) --devops\n","scriptPath":"","inline":"","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"false","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Upload the images onto FTP server","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"inline","commands":"","scriptPath":"","inline":"cd $(dir.remote.build)/delivery/$(image)\n\nsshpass -p '$(ftp.password)' sftp -P $(ftp.port) $(ftp.user)@$(ftp.server) -vv << EOF\nmkdir devops/$(image)\ncd devops/$(image)\nmput -r *\nexit\nEOF","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"true","interactiveSession":"false","readyTimeout":"20000"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"Setup YOCTO's VM","conditionType":2,"value":"4"}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":25,"url":"https://vsrm.dev.azure.com/edaj/5631a64e-0627-4808-942b-02d7757af6b1/_apis/Release/releases/25","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/edaj/_apis/public/Release/badge/5631a64e-0627-4808-942b-02d7757af6b1/1/2"},{"id":4,"name":"Minimal image","rank":4,"owner":{"displayName":"Fabrice TRAN XUAN","url":"https://spsprodweu2.vssps.visualstudio.com/Afae68fa3-32e0-43bd-90ae-13cdc3148042/_apis/Identities/598bb551-8821-6794-8bb8-fc4fc56c3b28","_links":{"avatar":{"href":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"}},"id":"598bb551-8821-6794-8bb8-fc4fc56c3b28","uniqueName":"fabrice.tranxuan@gmail.com","imageUrl":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4","descriptor":"msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"},"variables":{"image":{"value":"minimal"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":10}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":11},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":12}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_image-builder","artifactType":"PackageManagement","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Raspberrypi4-64","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"commands","commands":"cd $(dir.remote.build) && git reset --hard && bash ./go.sh --machine raspberrypi4-64 --image $(image) --devops\n","scriptPath":"","inline":"cd $(dir.remote.build)\nbash go.sh --machine raspberrypi4-64 --image $(image)\ngit reset --hard","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"false","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Raspberrypi3-64","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"commands","commands":"cd $(dir.remote.build) && git reset --hard && bash ./go.sh --machine raspberrypi3-64 --image $(image) --devops\n","scriptPath":"","inline":"cd $(dir.remote.build)\nbash go.sh --machine raspberrypi3-64 --image $(image)\ngit reset --hard","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"false","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Upload the images onto FTP server","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"inline","commands":"","scriptPath":"","inline":"cd $(dir.remote.build)/delivery/$(image)\n\nsshpass -p '$(ftp.password)' sftp -P $(ftp.port) $(ftp.user)@$(ftp.server) -vv << EOF\nmkdir devops/$(image)\ncd devops/$(image)\nmput -r *\nexit\nEOF","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"true","interactiveSession":"false","readyTimeout":"20000"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"IoTEdge image","conditionType":2,"value":"4"}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":16,"url":"https://vsrm.dev.azure.com/edaj/5631a64e-0627-4808-942b-02d7757af6b1/_apis/Release/releases/16","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/edaj/_apis/public/Release/badge/5631a64e-0627-4808-942b-02d7757af6b1/1/4"},{"id":5,"name":"IoTEdge image","rank":3,"owner":{"displayName":"Fabrice TRAN XUAN","url":"https://spsprodweu2.vssps.visualstudio.com/Afae68fa3-32e0-43bd-90ae-13cdc3148042/_apis/Identities/598bb551-8821-6794-8bb8-fc4fc56c3b28","_links":{"avatar":{"href":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"}},"id":"598bb551-8821-6794-8bb8-fc4fc56c3b28","uniqueName":"fabrice.tranxuan@gmail.com","imageUrl":"https://dev.azure.com/edaj/_apis/GraphProfile/MemberAvatars/msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4","descriptor":"msa.NTk4YmI1NTEtODgyMS03Nzk0LThiYjgtZmM0ZmM1NmMzYjI4"},"variables":{"image":{"value":"iotedge"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":13}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":14},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":15}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_image-builder","artifactType":"PackageManagement","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Raspberrypi4-64","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"commands","commands":"cd $(dir.remote.build) && git reset --hard && bash ./go.sh --machine raspberrypi4-64 --image $(image) --devops\n","scriptPath":"","inline":"cd $(dir.remote.build)\nbash go.sh --machine raspberrypi4-64 --image $(image)\ngit reset --hard","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"false","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Raspberrypi3-64","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"commands","commands":"cd $(dir.remote.build) && git reset --hard && bash ./go.sh --machine raspberrypi3-64 --image $(image) --devops\n","scriptPath":"","inline":"cd $(dir.remote.build)\nbash go.sh --machine raspberrypi3-64 --image $(image)\ngit reset --hard","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"false","interactiveSession":"false","readyTimeout":"20000"}},{"environment":{},"taskId":"91443475-df55-4874-944b-39253b558790","version":"0.*","name":"Upload the images onto FTP server","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"sshEndpoint":"05e4779e-84df-4fc5-b661-e7b367909c98","runOptions":"inline","commands":"","scriptPath":"","inline":"cd $(dir.remote.build)/delivery/$(image)\n\nsshpass -p '$(ftp.password)' sftp -P $(ftp.port) $(ftp.user)@$(ftp.server) -vv << EOF\nmkdir devops/$(image)\ncd devops/$(image)\nmput -r *\nexit\nEOF","interpreterCommand":"/bin/bash","args":"","failOnStdErr":"true","interactiveSession":"false","readyTimeout":"20000"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"TFTP image","conditionType":2,"value":"4"}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":0,"url":"https://vsrm.dev.azure.com/edaj/5631a64e-0627-4808-942b-02d7757af6b1/_apis/Release/releases/0","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/edaj/_apis/public/Release/badge/5631a64e-0627-4808-942b-02d7757af6b1/1/5"}],"artifacts":[{"sourceId":"8339c8e6-dead-4722-b50a-59462596ed77:a1010a9d-26b7-4fbe-91bc-329a13202ed7","type":"PackageManagement","alias":"_image-builder","definitionReference":{"defaultVersionSpecific":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"a1010a9d-26b7-4fbe-91bc-329a13202ed7","name":"image-builder"},"feed":{"id":"8339c8e6-dead-4722-b50a-59462596ed77","name":"yocto"},"files":{"id":"**","name":"**"},"packageType":{"id":"upack","name":"Universal"},"skipextract":{"id":"","name":""},"view":{"id":"","name":""}},"isPrimary":true,"isRetained":false}],"triggers":[{"alias":"_image-builder","triggerType":5}],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseNew"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"}},"id":1,"name":"Build images","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/edaj/5631a64e-0627-4808-942b-02d7757af6b1/_apis/Release/definitions/1","_links":{"self":{"href":"https://vsrm.dev.azure.com/edaj/5631a64e-0627-4808-942b-02d7757af6b1/_apis/Release/definitions/1"},"web":{"href":"https://dev.azure.com/edaj/5631a64e-0627-4808-942b-02d7757af6b1/_release?definitionId=1"}}}